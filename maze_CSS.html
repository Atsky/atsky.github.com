
<html>
<head>
    <title>Render</title>
    <style type="text/css">

    </style>
    <script type="text/javascript">
        var a = 0;

        function drawWall(x, z, da) {
            var img = document.createElement('img');
            img.setAttribute('src', 'wall.jpg');

            var da2 = da / 180 * Math.PI;
            var x1 = (Math.cos(da2) * x - Math.sin(da2) * z);
            var z1 = (Math.cos(da2) * z + Math.sin(da2) * x);

            img.setAttribute('style',
                    'position: absolute;'+
                    ' -webkit-transform-style: preserve-3d;'+
                    ' -webkit-transform: rotateY( '+(da)+'deg ) translate3d(' + x1 + 'px, 0px, '+ (z1+128) +'px); ');
            main.appendChild(img);
        }

        function drawScene() {
            var main = document.getElementById("main");
            if (main.hasChildNodes()) {
                while ( main.childNodes.length >= 1 ) {
                    main.removeChild( main.firstChild );
                }
            }

            main.setAttribute("style", "position: relative; -webkit-transform: rotateY( "+a+"deg ); -webkit-transform-style: preserve-3d;");
            drawWall(0, -356, 0);
            drawWall(0, -356, 90);


        }

        window.addEventListener("load", function (event) {
            drawScene();
        }, false);

        window.addEventListener('keydown', function(event) {
            switch (event.keyCode) {
            case 37: // Left
                a += 1;
                drawScene();
                break;

            case 38: // Up
                drawScene();
                break;

            case 39: // Right
                a -= 1;
                drawScene();
                break;

            case 40: // Down
                drawScene();
                break;
            }
        }, false);
    </script>
</head>
<body>
    <div style="-webkit-perspective: 600px; position: relative; -webkit-perspective-origin: 50% 200px;">
        <div id="main" style="-webkit-transform-style: preserve-3d;">
        </div>
    </div>
</body>
</html>